<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <div id="root">
      <form name="joinForm" action="/static/secindex.html" method="post">
        <div>
          <label>ID <input type="text" name="username" id="userId" /></label>
        </div>
        <div>
          <label
            >PW <input type="password" name="password" id="password"
          /></label>
        </div>
        <div>
          <label
            >PW <input type="password" name="password" id="repassword"
          /></label>
        </div>
        <div>
          <label>Email <input type="email" name="email" id="email" /></label>
        </div>
        <input
          type="submit"
          value="Sing Up"
          id="submit"
          onclick="submit_check();"
        />
      </form>
    </div>
    <script>
      function submit_check() {
        const root = document.getElementById("root");
        const submit = document.getElementById("submit");
        const form = document.getElementById("form");

        const userId = document.getElementById("userId");
        const password = document.getElementById("password");
        const repassword = document.getElementById("repassword");
        const email = document.getElementById("email");

        const idRegExp = /[a-zA-Z]/;
        const pwRegExp = /[a-zA-Z0-9]/;
        //로그인 유효성 검사 소,대문자를 사용 할 수있다.
        function errorAlertMessage(message, focus) {
          alert(message);
          focus.focus();
        }
        if (userId.value === "") {
          return errorAlertMessage("id를 입력해주세요.", userId);

          // userId 의 값이 비워져있을 경우 팝업창을 띄우고 아래 함수들을 모두 false로 번환 해라.
        } else if (!idRegExp.test(userId.value)) {
          return errorAlertMessage(
            "id는 영어 대문자 소문자를 포함해서 작성해주세요.",
            userId
          );
        }
        if (password.value === "") {
          return errorAlertMessage("password를 입력해주세요", password);
        } else if (!pwRegExp.test(password.value)) {
          return errorAlertMessage(
            "password는 대소문자,숫자를 포함해서 작성해주세요.",
            password
          );
        }
        if (password.value !== repassword.value) {
          return errorAlertMessage(
            "비밀번호가 일치 하지 않습니다.",
            repassword
          );
        }

        function isAlphaNumeric(str) {
          var code;
          for (var i = 0; i < str.length; i++) {
            code = str.charCodeAt(i);
            if (
              !(code > 64 && code < 91) && // upper alpha( A - Z )
              !(code > 96 && code < 123)
            ) {
              // lower alpha ( a - z )
              return false;
            }
          }
          return true;
        }
        // (code > 47 && code < 58) && // numeric (0-9)
      }
    </script>
  </body>
</html>
